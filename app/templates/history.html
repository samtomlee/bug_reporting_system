{% extends 'base.html' %}

{% block title %}Bug History{% endblock %}
{% block header %}Bug History{% endblock %}

{% block content %}
  <div class="row">
<<<<<<< HEAD
    <div class="col-lg-9">
      <!-- Table of Bugs -->
      <h4><b>Current Bugs</b></h4>
      <table class="table" id="bugs">
        <thead>
          <tr>
            <th scope="col">ID #</th>
            <th scope="col">Severity</th>
            <th scope="col">Bug Type</th>
            <th scope="col">Brief Description</th>
            <th scope="col">Status</th>
            <th scope="col">Person Responsible</th>
          </tr>
        </thead>
        <tbody>
        {% for bug in bugs %}
          <tr class="bug-row">
            <td class="bug-id" data-toggle="modal" data-target="#bugModal">{{ bug.id }}</td>
            <td class="bug-severity" data-toggle="modal" data-target="#bugMidal">{{ bug.severity }}</td>
            <td class="bug-type" data-toggle="modal" data-target="#bugModal">{{ bug.type }}</td>
            <td class="bug-name" data-toggle="modal" data-target="#bugModal">{{ bug.name }}</td>
            <td class="bug-status" data-toggle="modal" data-target="#bugModal">{{ bug.status }}</td>
            <td class="bug-assignee" data-toggle="modal" data-target="#bugModal">{{ bug.assigned_member.name }}</td>
            <td class="bug-description" style="display: none;">{{ bug.description }}</span>
            <td class="bug-email" style="display: none;">{{ bug.submitter_email }}</span>
          </tr>
        {% endfor %}
        </tbody>
      </table>

      <script>
        $(document).ready(function () {
          $('.bug-row').on('click', function(e) {
            var bugRow = $(this);
            var modal = $('#bugModal');

            modal.find(".bug-severity").html(bugRow.find(".bug-severity").html());
            modal.find(".bug-type").html(bugRow.find(".bug-type").html());
            modal.find(".bug-status").html(bugRow.find(".bug-status").html());
            modal.find(".bug-description").html(bugRow.find(".bug-description").html());
            modal.find(".bug-assignee").html(bugRow.find(".bug-assignee").html());
            modal.find(".modal-title").html(bugRow.find(".bug-name").html());
            modal.find(".bug-email").html(bugRow.find(".bug-email").html());
          });
        });
      </script>

      <div id="bugModal" class="modal fade" role="dialog">
        <div class="modal-dialog modal-dialog-centered">
          <!-- Modal content-->
          <div class="modal-content">
            <div class="modal-header">
              <h4 class="modal-title">bug name</h4>
              <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
              <div><b>Bug Severity: </b><span class="bug-severity">severity</span></div>
              <div><b>Bug Type: </b><span class="bug-type">bug type</span></div>
              <div><b>Status: </b><span class="bug-status">status</span></div>
              <div><b>Contact Info: </b><span class="bug-email">email</span></div>
              <div><b>Description: </b><p class="bug-description">description</p></div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
=======
    <!-- Table of Bugs -->
    <h4><b>Current Bugs</b></h4>
    <table class="table" id="bugs">
      <thead>
        <tr>
          <th scope="col">ID #</th>
          <th scope="col">Bug Type</th>
          <th scope="col">Brief Description</th>
          <th scope="col">Severity</th>
          <th scope="col">Status</th>
          <th scope="col">Person Responsible</th>
        </tr>
      </thead>
      <tbody>
      {% for bug in bugs %}
        <tr class="bug-row">
          <td class="bug-id" data-toggle="modal" data-target="#bugModal">{{ bug.id }}</td>
          <td class="bug-type" data-toggle="modal" data-target="#bugModal">{{ bug.type }}</td>
          <td class="bug-name" data-toggle="modal" data-target="#bugModal">{{ bug.name }}</td>
          <td class="bug-severity" data-toggle="modal" data-target="#bugModal">{{ bug.severity }}</td>
          <td class="bug-status" data-toggle="modal" data-target="#bugModal">{{ bug.status }}</td>
          <td class="bug-assignee" data-toggle="modal" data-target="#bugModal">{{ bug.assigned_member.name }}</td>
          <td class="bug-description" style="display: none;">{{ bug.description }}</span>
          <td class="bug-email" style="display: none;">{{ bug.submitter_email }}</span>
        </tr>
      {% endfor %}
      </tbody>
    </table>

    <div id="bugModal" class="modal fade" role="dialog">
      <div class="modal-dialog modal-dialog-centered">
        <!-- Modal content-->
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">bug name</h4>
            <button type="button" class="close" data-dismiss="modal">&times;</button>
          </div>
          <div class="modal-body">
            <div><b>Bug Type: </b><span class="bug-type">bug type</span></div>
            <div><b>Severity: </b><span class="bug-severity">severity</span></div>
            <div><b>Status: </b><span class="bug-status">status</span></div>
            <div><b>Contact Info: </b><span class="bug-email">email</span></div>
            <div><b>Description: </b><p class="bug-description">description</p></div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
>>>>>>> dev
          </div>
        </div>
      </div>
    </div>
<<<<<<< HEAD
    <div class="col-lg-3">
=======

    <div class="col-lg-4">
>>>>>>> dev
      <!-- Column for FAQs and search -->
      <!-- Search form -->
      <form class="form-inline ">
        <i class="fa fa-search" aria-hidden="true"></i>
        <input class="form-control form-control-sm" type="text" placeholder="Search" aria-label="Search">
      </form>
      <br>
      <!-- FAQ section -->
      <div>
        <h4><b>FAQs</b></h4>
        <p><b>Q: How do I find the bugs I have submitted?</b></p>
        <p>In the search bar, enter email:[your email address] and press enter.</p>
        <br>
      </div>

    </div>
  </div>

<<<<<<< HEAD
{% endblock %}
=======
  <script>
    $(document).ready(function () {
      $('.bug-row').on('click', function(e) {
        var bugRow = $(this);
        var modal = $('#bugModal');

        modal.find(".bug-type").html(bugRow.find(".bug-type").html());
        modal.find(".bug-status").html(bugRow.find(".bug-status").html());
        modal.find(".bug-description").html(bugRow.find(".bug-description").html());
        modal.find(".bug-assignee").html(bugRow.find(".bug-assignee").html());
        modal.find(".bug-severity").html(bugRow.find(".bug-severity").html());
        modal.find(".modal-title").html(bugRow.find(".bug-name").html());
        modal.find(".bug-email").html(bugRow.find(".bug-email").html());
      });
    });
  </script>
{% endblock %}
>>>>>>> dev
